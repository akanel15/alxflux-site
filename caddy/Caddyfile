{
  email alex.kanellis@me.com
}

alxflux.duckdns.org {
  # Handle RSS reader requests - proxy to Miniflux (with BASE_URL set)
  handle_path /reader* {
    reverse_proxy app:8080
  }
  
  # Serve AlxFlux static site by default
  root * /var/www/html
  file_server
  
  # Enable compression
  encode gzip
  
  # Security headers
  header {
    # Remove server header
    -Server
    # Security headers
    X-Content-Type-Options nosniff
    X-Frame-Options DENY
    X-XSS-Protection "1; mode=block"
    Referrer-Policy strict-origin-when-cross-origin
  }
  
  # Handle common static assets with caching
  @static {
    path *.css *.js *.png *.jpg *.jpeg *.gif *.ico *.svg *.woff *.woff2
  }
  header @static {
    Cache-Control "public, max-age=31536000"
  }
}
